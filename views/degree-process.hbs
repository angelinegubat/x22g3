{{#section "head"}}
<!-- AXIOS -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<!-- TABULATOR -->
<link href="https://unpkg.com/tabulator-tables@4.9.3/dist/css/bootstrap/tabulator_bootstrap4.min.css" rel="stylesheet">
<script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.min.js"></script>
{{/section}}

<h1>Degree Process</h1>
<br>

<h3>Request a Document</h3>
<form method="POST" action="/api/document-requests/new" id="documentform">
  <input type="hidden" id="student-id-hidden" name="_id" value="{{_id}}">
  <br>
  <label for="documents" class="input-bar-label">Select a document to request</label>
  <div class="input-group">
    <select class="custom-select" id="documentType" name="documentType">
      <option value="Transcript of Records">Transcript of Records</option>
      <option value="Certificate of Good Morals">Certificate of Good Morals</option>
    </select>
    <div class="input-group-append">
      <button type="submit" class="btn btn-primary" id="request-document-btn">Request</button>
    </div>


  </div>
</form>
<br>
<p>{{details.msg}}</p>

<br>

<h3>Documents Overview</h3>
<br>
<div class="overflow-auto">
  {{#if requestedDocuments}}
  <table class='table table-striped table-bordered'>
    <thead>
      <tr>
        <th>Request Date</th>
        <th>Document Type</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {{#each requestedDocuments}}
      <tr>
        <td>{{this.requestDate}}</td>
        <td>{{this.document}}</td>
        {{#if this.isApproved}}
        <td>Approved</td>
        {{else}}
        <td>For approval</td>
        {{/if}}
      </tr>
      {{/each}}

    </tbody>

  </table>
  {{/if}}
</div>