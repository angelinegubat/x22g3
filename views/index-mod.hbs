<h1>Moderator Home</h1>
{{!-- Click the 'Add a Student' button to display the modal --}}
<div class="modal" id="addstudent-modal">
    <div class="modal-content">
        <span class="modal-close">&times;</span>
        <h2 id="add-student-header">Add a Student</h2>
        <br>
        <div class='form-container'>
            <p id="errMsg"></p>
            <form action="/mod" method="POST">
                <label class='res-8' for="fname">First Name</label>
                <input class='res-12' type="text" name='fname'><br>
                <label class='res-8' for="mname">Middle Name</label>
                <input class='res-12' type="text" name='mname'><br>
                <label class='res-8' for="lname">Last Name</label>
                <input class='res-12' type="text" name='lname'><br>
                <br>
                <div class="flex-container">
                    <div class="input-container">
                        <label class='res-8' for="idnum">Id Number</label>
                        <input class='res-12' type="text" name='idnum'><br>
                    </div>
                    <!-- for milestone 2, back-end will automatically set college depending on program-->
                    <div class="input-container">
                        <label class='res-8' for="program">Program</label>
                        <input class='res-12' type="text" name='program'><br>
                    </div>
                    <div class="input-container">
                        <label class='res-8' for="section">Section</label>
                        <input class='res-12' type="text" name='section'><br>
                    </div>
                </div>
                <br>
                <div class='center-button'>
                    <input class="res-8" type="submit" value="Submit" onclick='return checkFields()' id='submit'>
                </div>
                <br>
            </form>
        </div>
    </div>

</div>

<br><br>
<div id="student-list-header-container">
    <h2 id="student-list-header">Students</h2>
    <button id="addstudent-modal-btn">Add A Student</button>
</div>


<br>
<input type="search" name="search" class="searchbar" placeholder="Enter student's ID Number"><br>
<br>
<div class="table-container">
    <table class='res-12' id="students-table">
        <tr>
            <th>ID Number</th>
            <th>First Name</th>
            <th>Middle Name</th>
            <th>Last Name</th>
            <th>College</th>
            <th>Course</th>
            <th>Section</th>
            <th>Status</th>
            <th>Graduating</th>
        </tr>
        <tr>
            <td>11839864</td>
            <td>Rethaniel</td>
            <td>Abanes</td>
            <td>Dela Gubat</td>
            <td>CCS</td>
            <td>CSS</td>
            <td>X22</td>
            <td>Enrolled</td>
            <td>No</td>
        </tr>
        <tr>
            <td>11839406</td>
            <td>Gabriel</td>
            <td>Romero</td>
            <td>Dela Cruz</td>
            <td>CCS</td>
            <td>CSS</td>
            <td>X22</td>
            <td>Enrolled</td>
            <td>No</td>
        </tr>
        <tr>
            <td>11839139</td>
            <td>Renz Rafael</td>
            <td>Cabigting</td>
            <td>Cordero</td>
            <td>CCS</td>
            <td>IET-ADS</td>
            <td>X22</td>
            <td>Enrolled</td>
            <td>No</td>
        </tr>
        <tr>
            <td>11827629</td>
            <td>Angeline</td>
            <td>Mendoza</td>
            <td>Gubat</td>
            <td>CCS</td>
            <td>CSS</td>
            <td>X22</td>
            <td>Enrolled</td>
            <td>No</td>
        </tr>
        <tr>
            <td>11834567</td>
            <td>Some</td>
            <td>Other</td>
            <td>Person</td>
            <td>BAGCED</td>
            <td>ABELS</td>
            <td>XL1</td>
            <td>Not Enrolled</td>
            <td>No</td>
        </tr>
    </table>
</div>


<script src='/javascript/table-scripts.js' type='text/javascript'></script>

<script>
    addBtn(document.getElementById('students-table'), 'remove');
    addBtnListener();
    configureModal(document.querySelector('#addstudent-modal-btn'), document.querySelector('#addstudent-modal'));
    function checkFields() {
        var form = document.forms[0];
        //var inputs = form.querySelectorAll('input');
        var err = 0;
        for (let i = 0; i < form.length - 1; i++) {
            var input = form.elements[i];
            if (input.value === "") {
                err++;
                input.style.borderColor = 'red';
            } else {
                input.style.borderColor = '#373b4485';
            }
        }

        if (err > 0) {
            document.querySelector('p#errMsg').innerHTML = 'Some fields are blank.';
            return false;
        } else {
            form.submit();
        }


    }

    function configureModal(triggerElement, modalElement) {
        triggerElement.onclick = () => {
            modalElement.style.display = "block";
        }

        modalElement.querySelector('.modal-close').onclick = () => {
            modalElement.style.display = 'none';
        }

        window.onclick = (e) => {
            if (e.target == modalElement)
                modalElement.style.display = "none";
        }
    }

    responsiveFontSize('.modal-close', 24);
</script>